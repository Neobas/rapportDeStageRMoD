% Section 2 : Analyse du problème
\section{Analyse du Problème}

\subsection{Situation générale avant le début du stage}
L'objectif de mon stage était de permettre le déploiement de Pharo dans un environnement en lecture seule, en corrigeant les problèmes rencontrés. Pour les trouver, j'ai placé en lecture seule un répertoire contenant tout le contenu nécessaire au fonctionnement de Pharo, puis j'ai lancé l'IDE, et j'ai effectué des tests simples pour identifier le(s) problème(s), qui sont cités ci-dessous :

\subsubsection{Le log}
Le log est un mécanisme indispensable pour un développeur faisant face à une erreur : en effet, le log indique la trace de l'exécution en cours, et permet donc de savoir où se situe le problème. En faisant mon test, j'ai remarqué que le log étant normalement écrit dans le répertoire courant, il ne pouvait pas être écrit, mais que ce problème ne soulevait pas d'erreur. Ainsi personne ne pouvait se douter que le log n'était pas écrit en cas d'échec.

\subsubsection{Lancement des tests (Test Runner)}
Pharo est imposant : il est composé de plusieurs milliers de classes, ce qui représente beaucoup de tests à lancer pour vérifier son bon fonctionnement. Pour nous simplifier la tâche, Pharo dispose du Test Runner. Comme son nom l'indique, la principale fonction de ce programme est de lancer des tests. On sélectionne les paquets qui nous intéressent, puis les classes, et on lance le tout. Il est de plus possible de vérifier la couverture du code par les tests, ce qui est intéressant si on veut savoir à quel point notre code est fiable. J'ai donc lancé tous les tests de Pharo, pour voir des erreurs apparaître à la pelle avant que l'IDE ne plante complètement en tentant d'écrire dans le répertoire local. Le Test Runner remplit son office, mais certains tests échouent car ce répertoire ne permet pas l'écriture.

\subsubsection{L'écriture de code (Nautilus)}
Quand un développeur Pharo ne code pas dans le debugger, il code dans Nautilus, le navigateur du système. Nautilus est le programme donnant accès aux paquets, classes et méthodes du système à l'aide d'une interface simple et intuitive. Bien qu'amené à être remplacé par Calypso dans Pharo 7, j'ai tenté de créer un paquet, une classe et une méthode avec Nautilus. Lors de leur création, une erreur apparaît, mais qui ne semble pas l'empêcher de finir. Un avertissement apparaît après coup, nous informant que la classe/méthode n'a pas de timestamp. De plus, toute tentative de modification à la volée, par exemple nommer un attribut non défini dans une méthode et l'ajouter via l'invite qui s'affiche à la sauvegarde fait immédiatement planter l'IDE qui se ferme aussitôt.

\subsubsection{La sauvegarde (Monticello)}
Écrire du code, c'est bien, le sauvegarder, c'est mieux. Monticello est un programme permettant de sauvegarder les modifications apportées à un ou plusieurs paquets dans le répertoire local ou dans un repository d'un service de versioning spécialisé dans Smalltalk (Smalltalkhub par exemple). En le testant, j'ai remarqué qu'il est impossible de sauvegarder les changements.

\subsection{L'expérimentation (Playground)}
Quand on veut vérifier si le fonctionnement d'un code est correct, on peut l'essayer dans le playground. Ce programme permet d'écrire du code librement, que ce soit pour charger manuellement un paquet ou pour tester la syntaxe d'une classe avant de s'en servir ailleurs. De plus, il intègre un historique lui permettant de récupérer une session précédente, ce qui est pratique en cas de fermeture involontaire de la fenêtre. Mon test a montré que la moindre modification (ajout, suppression, modification) résulte par l'apparition d'une erreur, ce qui rend le playground inutilisable.